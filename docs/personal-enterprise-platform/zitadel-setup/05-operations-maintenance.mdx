---
title: Operations & Maintenance
sidebar_position: 5
tags:
  - Operations
  - Maintenance
  - Backup
  - Security
  - Monitoring
---

# Operations & Maintenance

Day-to-day management of Zitadel focuses on container lifecycle tasks, controlled updates, consistent backups, and proactive security. This guide condenses the essential commands and routines to keep your deployment healthy once the initial setup is complete.

## 1. Container lifecycle

### 1.1 Start, stop, restart

From the Proxmox host:

```bash
pct start <container-id>
pct stop <container-id>
pct restart <container-id>
```

Inside the container:

```bash
systemctl start zitadel
systemctl stop zitadel
systemctl restart zitadel
systemctl status zitadel
```

### 1.2 Shell access and logs

Open a shell in the container:

```bash
pct enter <container-id>
```

Follow service logs in real time:

```bash
journalctl -u zitadel -f
```

## 2. Updating Zitadel safely

1. Take a fresh database backup (see Section 3).
2. From inside the container, run:

```bash
bash -c "$(wget -qLO - https://github.com/community-scripts/ProxmoxVE/raw/main/ct/zitadel.sh)"
```

3. Choose **Option 1 â€“ Update** from the helper script menu and wait for it to finish.
4. Verify the service is running: `systemctl status zitadel`.
5. Spot-check the console at `https://zitadel.yourdomain.com` to confirm everything loads.

## 3. Database management

### 3.1 Access PostgreSQL

```bash
sudo -u postgres psql -d zitadel
```

### 3.2 Create a manual backup

```bash
sudo -u postgres pg_dump zitadel > /root/zitadel_$(date +%F).sql
```

Store the dump off-host (for example, via `scp` to a NAS). Automate this command with a cron job for regular backups.

### 3.3 Restore from backup

```bash
sudo -u postgres psql zitadel < /root/zitadel_backup.sql
```

After a restore, rerun `bash ~/zitadel-rerun.sh` to ensure configuration changes are reapplied.

## 4. Security housekeeping

- **Rotate credentials**: Update administrator passwords and API secrets regularly.
- **Restrict exposure**: Only ports 80/443 should be open externally; manage ingress through Pangolin.
- **Protect the master key**: Export and store the master encryption key in an encrypted password manager or secrets vault.
- **Monitor access**: Periodically review Zitadel audit logs and Pangolin Traefik logs for unusual activity.
- **Keep components current**: Patch the OS, Zitadel, and PostgreSQL together to avoid dependency drift.

## 5. Suggested maintenance rhythm

| Task | Frequency | Notes |
| ---- | --------- | ----- |
| Verify backups | Weekly | Inspect dump files and perform a test restore on a staging container. |
| Apply OS patches | Monthly | `apt update && apt upgrade -y` inside the container. |
| Update Zitadel | Monthly or as security releases drop | Run helper script Option 1 after a backup. |
| Review access logs | Monthly | `journalctl -u zitadel`, Zitadel console audit view, Pangolin logs. |
| Rotate admin credentials | Quarterly | Update passwords/secrets and document securely. |

Keeping these routines documented next to your Zitadel deployment ensures your environment stays resilient and ready for downstream integrations such as Pangolin SSO.